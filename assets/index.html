<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      table,
      th,
      td {
        border: 1px solid rgb(255, 255, 255);
        color: white;
      }
      th,
      td {
        width: 100px;
      }
      p {
        color: red;
        font-weight: bold;
        opacity: 0;
        text-decoration: underline;
        background-color: white;
        max-width: 500px;
        border-radius: 5px;
      }
      body {
        width: 100%;
        height: 100vh;
        background: linear-gradient(45deg, red, blue);
        background-repeat: no-repeat;
        background-size: contain;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .form {
        background-color: transparent;
        border: 1px solid gray;
        border-radius: 15px;
        width: 400px;
        max-height: 500px;
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-size: 20px;
        margin: auto;
      }
      input {
        width: 70%;
        height: 40px;
        border-radius: 15px;
        background-color: transparent;
        color: white;
        font-size: 15px;
      }
      #submit {
        width: 30%;
        margin-top: 10px;
        background-color: white;
        color: black;
      }
      #table {
        margin: auto;
        display: none;
      }
      
    </style>
  </head>
  <body class="body">
    <div class="form">
      <label for="">Username:</label><br />
      <input type="text" id="inputusername" /><br />
      <label for="">Email:</label><br />
      <input type="text" id="email" /><br />
      <label for="">Password:</label><br />
      <input type="password" id="password" /><br />
      <label for="">Confirm Password:</label><br />
      <input type="password" id="cpassword" /><br />
      <input type="submit" id="submit" />
    </div>
    <table id="table">
      <thead>
        <th>Username</th>
        <th>Email</th>
        <th>Password</th>
        <th>Confirm Password</th>
      </thead>
      <tbody id="tbody"></tbody>
    </table>
    <script>
      let username = document.getElementById("inputusername");
      let email = document.getElementById("email");
      let password = document.getElementById("password");
      let cpassword = document.getElementById("cpassword");
      let submit = document.getElementById("submit");
      let tbody = document.getElementById("tbody");
      let body = document.querySelector(".body");
      let p = document.createElement("p");
      let form = document.querySelector(".form");
      let table = document.querySelector("#table");
      let viewdata = document.createElement('button')
      let hidedata = document.createElement('button')
      viewdata.textContent='View Data'
      viewdata.style.display = 'none'
      hidedata.textContent='Hide Data'
      hidedata.style.display = 'none'
      form.append(viewdata)
      form.append(hidedata)
      viewdata.addEventListener('click',(event)=>{
        event.preventDefault()
        table.style.display = 'block'
        hidedata.style.display = 'block'
      })
      hidedata.addEventListener('click',(event)=>{
        event.preventDefault()
        table.style.display = 'none'
      })

      body.append(p);
      submit.addEventListener("click", (event) => {
        event.preventDefault();
        if (
          username.value === "" ||
          email.value === "" ||
          password.value === "" ||
          cpassword.value === ""
        ) {
          username.value = "";
          email.value = "";
          password.value = "";
          cpassword.value = "";
          p.textContent = "input must not be empty!!!";
          p.style.opacity = "1";
          return -1;
        } else if (
          password.value === cpassword.value &&
          password.value.length >= 8
        ) {
          viewdata.style.display='block'
          let tr = document.createElement("tr");
          let td1 = document.createElement("td");
          let td2 = document.createElement("td");
          let td3 = document.createElement("td");
          let td4 = document.createElement("td");
          td1.textContent = username.value.trim();
          td2.textContent = email.value.trim();
          td3.textContent = password.value.trim();
          td4.textContent = cpassword.value.trim();
          tr.append(td1, td2, td3, td4);
          tbody.append(tr);
          username.value = "";
          email.value = "";
          password.value = "";
          cpassword.value = "";
        } else {
          p.textContent =
            "Password and Confirm Pasword isn't same or length of password is not more than 8!!!";
          p.style.opacity = "1";
          username.value = "";
          email.value = "";
          password.value = "";
          cpassword.value = "";
          return -1;
        }
      });
    </script>
  </body>
</html>
